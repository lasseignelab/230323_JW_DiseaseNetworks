---
title: "01_condor_file_inputs"
author: "Jordan Whitlock"
date: '2023-07-10'
output: html_document
---

NOTE: be sure to run this script to set up list of files BEFORE constructing networks with '02_condor_array.sh' bash script. 
This script was run inside of JW docker container jordanwhitlock/setbp1_manuscript:1.0.6 (setbp1_manuscript_1.0.6.sif) using Singularity/3.5.2-GCC-5.4.0-2.26 

Goal: Generate input array for CONDOR jobs submitted through SLURM scheduler to UAB SUpercomputer Cheaha

## Load libraries
```{r}
set.seed(2178)
ptm <- proc.time()
library(here)
library(utils)
library(styler)
library(lintr)
```

## Set the directory path
```{r}
directory <- here("results/PANDA")
```

## Get the file names in the directory
```{r}
file_names <- list.files(directory, full.names = TRUE)
file_names
```

## Generate array file
```{r}
write.table(file_names, file = here("results/array_inputs/condor_array.txt"),
            sep = "\t",
            row.names = FALSE,
            col.names = FALSE,
            quote = FALSE)
```

## Session info, processing time, and Styling
```{r processing-time}
fptm <- proc.time() - ptm
fptm[3] / 60
```
 elapsed 
7.992383 

```{r style-file}
# run style
style_file(here("src/community_detection/01_condor_file_inputs.Rmd")) # commented out after being run once
# lintr was run as well
```

```{r session-info}
sessionInfo()
```
R version 4.1.3 (2022-03-10)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 20.04.6 LTS

Matrix products: default
BLAS/LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.8.so

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] lintr_3.0.2  styler_1.9.0 here_1.0.1  

loaded via a namespace (and not attached):
 [1] rex_1.2.1         rstudioapi_0.14   xml2_1.3.3        knitr_1.42        magrittr_2.0.3    R.cache_0.16.0    R6_2.5.1          rlang_1.0.6      
 [9] fastmap_1.1.1     tools_4.1.3       xfun_0.37         R.oo_1.25.0       cyclocomp_1.1.0   cli_3.6.0         withr_2.5.0       remotes_2.4.2    
[17] htmltools_0.5.4   lazyeval_0.2.2    yaml_2.3.7        rprojroot_2.0.3   digest_0.6.31     lifecycle_1.0.3   crayon_1.5.2      processx_3.8.0   
[25] purrr_1.0.1       callr_3.7.3       vctrs_0.5.2       R.utils_2.12.2    ps_1.7.2          glue_1.6.2        evaluate_0.20     rmarkdown_2.20   
[33] compiler_4.1.3    desc_1.4.2        R.methodsS3_1.8.2
